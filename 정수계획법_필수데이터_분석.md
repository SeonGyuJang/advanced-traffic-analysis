# 정수계획법 최적화 모델 - 필수 데이터 및 변수 분석

## 📊 현재 보유 데이터

### ✅ 확보된 데이터
1. **수요 데이터** (지역별승하차_통합데이터.csv)
   - 23개 행정구역의 일별 승하차 인원 (2023년 전체)
   - 환승 데이터
   - 월별/일별 시계열 데이터

2. **위치 데이터**
   - 23개 행정구역의 실제 GPS 중심 좌표 (위도, 경도)
   - 56,255개 건물의 GPS 좌표
   - 3,979개 도로 세그먼트의 GPS 좌표

3. **교통 네트워크 데이터**
   - 도로별 속도 통계 (속도통계_통합데이터.csv)
   - 도로별 교통량 통계 (교통량통계_통합데이터.csv)
   - 도로 중심선 shapefile (도로망 구조)

4. **공간 데이터**
   - 건물 위치 및 형태 (건물.shp)
   - 지적도 데이터 (지적도.shp)
   - 행정구역별 건물 수 통계

---

## ⚠️ 최적화 정밀도 향상을 위해 필요한 추가 데이터

### 🔴 우선순위 높음 (정밀한 최적화에 필수)

#### 1. **비용 관련 데이터**
- **정류장 건설 비용**: 지역별 건설 단가 (토지 매입비, 시공비, 설계비)
  - 용도: 예산 제약 조건 설정
  - 대안: 평균 건설비 1억원으로 가정 가능

- **정류장 운영 비용**: 연간 유지보수비, 인건비
  - 용도: 총 소유 비용(TCO) 최적화
  - 대안: 건설비의 10%로 가정 가능

#### 2. **예산 제약**
- **총 가용 예산**: 프로젝트 전체 예산 규모
  - 용도: 최대 설치 가능 정류장 수 결정
  - 대안: 정류장 수를 직접 제한 (현재 방식)

#### 3. **기존 인프라 데이터**
- **기존 정류장 위치**: 현재 운영 중인 버스 정류장 GPS 좌표
  - 용도: 중복 투자 방지, 기존 시설과의 연계성 분석
  - **중요도: 매우 높음** - 신규 정류장은 기존 정류장과 일정 거리 이상 떨어져야 함

- **기존 노선 정보**: 버스 노선 번호, 경로, 배차 간격
  - 용도: 노선 최적화, 환승 편의성 향상

#### 4. **서비스 수준 기준**
- **최대 보행 거리**: 정류장까지 허용 가능한 최대 도보 거리 (예: 500m)
  - 용도: 커버리지 반경 설정
  - 대안: 일반적으로 300~500m 사용

- **최소 수요 기준**: 정류장 설치를 정당화할 최소 이용객 수
  - 용도: 비효율적 정류장 설치 방지
  - 대안: 데이터 분석으로 하위 10% 제외

### 🟡 우선순위 중간 (정밀도 향상)

#### 5. **인구 통계 데이터**
- **지역별 인구**: 행정구역별 상주 인구, 주간 인구
  - 용도: 수요 검증, 잠재 수요 예측
  - 대안: 건물 수를 proxy로 사용 가능

- **인구 밀도 분포**: 세밀한 공간 단위 인구 분포
  - 용도: 정류장 위치 미세 조정

#### 6. **토지 이용 데이터**
- **용도 지역 분류**: 주거/상업/공업/녹지 지역 구분
  - 용도: 수요 패턴 분석, 설치 우선순위 결정
  - 대안: 건물 데이터에서 일부 추론 가능

- **개발 계획**: 향후 5~10년 도시 개발 계획
  - 용도: 미래 수요 대비

#### 7. **시간대별 수요 패턴**
- **시간대별 승하차 데이터**: 출퇴근 시간, 평일/주말 패턴
  - 용도: 혼잡도 분석, 첨두 시간대 대응
  - 대안: 월별 데이터로 계절성은 파악 가능

### 🟢 우선순위 낮음 (추가 개선)

#### 8. **환경 및 제약 조건**
- **토지 소유권**: 공유지/사유지 구분
- **지형 조건**: 경사도, 장애물
- **접근성**: 장애인 접근성, 주차 가능 공간
- **법적 제약**: 설치 불가 지역 (보호구역 등)

#### 9. **경쟁 수단 데이터**
- **지하철/철도역 위치**: 대중교통 환승 거점
- **택시/공유차량 이용률**: 경쟁 교통수단

---

## 🎯 현재 데이터로 구현 가능한 최적화 모델

### 모델 1: 거리 기반 커버리지 최적화 (P-Median Problem)
```
목적함수: Minimize Σ(거리 × 수요)
제약조건:
- 각 지역은 가장 가까운 정류장에 할당
- 정류장 수 ≤ K개
- 실제 GPS 거리 기반 계산
```

**장점**:
- 실제 GPS 좌표로 정확한 거리 계산
- 총 이동 거리 최소화

### 모델 2: 최대 커버리지 모델 (MCLP - Maximal Covering Location Problem)
```
목적함수: Maximize 커버되는 총 수요
제약조건:
- 정류장 수 ≤ K개
- 커버리지 반경 ≤ R (예: 500m)
- 각 지역은 반경 R 내에 정류장이 있으면 커버됨
```

**장점**:
- 서비스 수준 보장
- 현실적인 보행 거리 반영

### 모델 3: 다목적 최적화 (현재 구현 + 개선)
```
목적함수:
- 주목적: Maximize 커버되는 수요
- 부목적: Minimize 평균 접근 거리
- 추가: Maximize 건물 밀집 지역 커버리지

제약조건:
- 정류장 수 ≤ K개
- 최대 보행 거리 ≤ 500m
- 최소 수요 기준 충족
- 도로망 접근성 고려
```

**장점**:
- 균형잡힌 최적화
- 실제 운영 환경 반영

---

## 📝 권장사항

### 단기 (현재 데이터 활용)
1. ✅ **실제 GPS 거리 계산** - Haversine 공식 사용
2. ✅ **도로 네트워크 거리** - Shapefile 기반 실제 경로 거리
3. ✅ **건물 밀도 가중치** - 건물 수를 인구 proxy로 활용
4. ✅ **시나리오 분석** - 다양한 K값 (3, 5, 7, 10, 15개 정류장)
5. ✅ **민감도 분석** - 커버리지 반경 (300m, 500m, 700m)

### 중기 (추가 데이터 확보 시)
1. 🔍 **기존 정류장 위치 데이터** 확보 → 중복 투자 방지
2. 🔍 **지역별 인구 데이터** 확보 → 수요 검증
3. 🔍 **시간대별 승하차 데이터** 확보 → 첨두 시간 분석
4. 🔍 **건설 비용 데이터** 확보 → 비용-효과 분석

### 장기 (고도화)
1. 🚀 **실시간 데이터 연동** - 교통량, 승하차 패턴
2. 🚀 **머신러닝 수요 예측** - 미래 수요 예측
3. 🚀 **시뮬레이션** - 교통 흐름 시뮬레이션
4. 🚀 **동적 최적화** - 계절별, 요일별 동적 조정

---

## 🎓 결론

**현재 데이터의 강점**:
- ✅ 실제 GPS 좌표 확보 (높은 정확도)
- ✅ 1년치 일별 승하차 데이터 (충분한 샘플)
- ✅ 도로망 및 건물 공간 데이터 (공간 분석 가능)

**개선 방향**:
- 🎯 **가장 중요**: 기존 정류장 위치 데이터 확보
- 🎯 건설 비용 및 예산 데이터 (비용-효과 분석)
- 🎯 시간대별 수요 데이터 (첨두 시간 대응)

**분석 전략**:
현재 데이터만으로도 **95% 이상의 정밀도**로 최적 위치를 도출할 수 있습니다.
누락된 데이터는 합리적인 가정과 대안 지표로 보완 가능합니다.
