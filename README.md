# 세종시 버스정류장 최적화 분석

## 📋 프로젝트 개요

**정수계획법(Integer Programming) 기반 세종시 버스 신규 정류장 최적 위치 선정 시스템**

본 프로젝트는 세종시의 버스 카드 이용 데이터(2024-2025)를 기반으로 각 정류장별 수요를 정밀 분석하고, 정수계획법 최적화 알고리즘을 통해 신규 정류장의 최적 위치를 도출합니다.

## 🎯 핵심 결과

| 구분 | 값 |
|------|-----|
| 기존 정류장 | 1,214개 |
| 수요 있는 정류장 | 23개 (1.9%) |
| 신규 정류장 추천 | 15개 |
| 예상 추가 커버 수요 | 10,253명 |

## 🚀 빠른 시작

### 1. 패키지 설치

```bash
pip install pandas numpy matplotlib seaborn pulp folium plotly streamlit streamlit-folium scipy scikit-learn
```

### 2. 분석 실행

```bash
# 1단계: 정밀 분석 실행 (약 2-3분 소요)
python 정밀_정류장_분석.py

# 2단계: PPT 발표 자료 생성
python 발표자료_생성.py

# 3단계: 인터랙티브 대시보드 실행
streamlit run 프리미엄_대시보드.py
```

## 📊 생성되는 파일

### 분석 결과 데이터
- `분석결과_정류장별수요.csv` - 1,214개 정류장의 수요 분석 결과
- `분석결과_신규정류장.csv` - 15개 신규 정류장 추천 목록

### PPT 발표 자료 (고해상도 PNG)
- `발표자료_종합분석.png` - 한 페이지 종합 분석 (지도 + KPI + 차트)
- `발표자료_신규정류장목록.png` - 신규 정류장 상세 목록

### 인터랙티브 대시보드
- `프리미엄_대시보드.py` 실행 → 웹 브라우저에서 실시간 분석

## 🎨 프리미엄 대시보드 기능

**경영진 발표용 고품질 인터랙티브 대시보드**

### 핵심 기능

1. **📊 실시간 KPI**
   - 기존 정류장 현황
   - 총 수요 통계
   - 신규 정류장 추천
   - 수요 커버율 증가 예측

2. **🗺️ 인터랙티브 지도**
   - 기존 정류장 (파란색 원, 크기 = 수요)
   - 신규 정류장 (별표, 색상 = 우선순위)
   - 커버리지 영역 시각화 (500m 반경)
   - 수요 히트맵 오버레이

3. **⚙️ 설정 패널**
   - 기존/신규 정류장 표시 토글
   - 커버리지 영역 표시 토글
   - 수요 히트맵 표시 토글
   - 커버리지 반경 조정 (0.3 ~ 1.0km)
   - 최소 수요 필터

4. **📈 수요 분석 차트**
   - 기존 정류장 Top 10
   - 신규 정류장 우선순위 Top 10
   - 상세 데이터 테이블

## 📖 신규 정류장 추천 목록 (상위 5개)

| 우선순위 | 위도 | 경도 | 예상 수요 | 환승 | 커버 수요 |
|---------|------|------|----------|------|----------|
| 1 | 36.5039 | 127.3094 | 1,418명 | 115명 | 1,418명 |
| 2 | 36.4839 | 127.2763 | 1,103명 | 96명 | 1,103명 |
| 3 | 36.5239 | 127.2735 | 1,086명 | 49명 | 1,086명 |
| 4 | 36.5389 | 127.2600 | 938명 | 58명 | 938명 |
| 5 | 36.4889 | 127.2813 | 709명 | 51명 | 709명 |

*전체 15개 정류장 목록은 `분석결과_신규정류장.csv` 참조*

## 🔬 분석 방법론

### 1. 정류장별 수요 할당
- 각 행정구역의 승하차 데이터를 가장 가까운 정류장에 할당
- Haversine 거리 공식으로 실제 GPS 거리 계산

### 2. 그리드 기반 수요 밀도 분석
- 세종시 전체를 500m × 500m 그리드로 분할 (총 7,144개 셀)
- 각 셀의 수요 밀도 계산 (거리 감쇠 적용)

### 3. 커버리지 갭 분석
- 각 그리드 셀에서 최단 정류장까지 거리 계산
- 커버리지 기준: 500m (도보 약 7분)
- 미커버 고수요 지역 식별

### 4. 정수계획법 최적화

**목적함수**: 가중 수요 최대화

```
Maximize: Σ (demand[i] × weight[i] × covered[i])
```

**가중치**:
- 수요 (50%) + 환승 (25%) + 커버리지 갭 (25%)

**제약조건**:
- 신규 정류장 개수 ≤ 15개
- 정류장 간 최소 거리 ≥ 300m
- 커버리지 범위: 500m

**알고리즘**: PuLP CBC Solver

## 💡 핵심 인사이트

### 분석 결과

1. **저활용 정류장 다수**
   - 전체 1,214개 정류장 중 23개(1.9%)만 실제 수요 보유
   - 정류장 배치 효율성 개선 여지 큼

2. **전략적 배치 필요**
   - 신규 정류장 15개로 10,253명 추가 커버 가능
   - 우선순위 1-5위가 전체 신규 수요의 약 60% 차지

3. **즉시 실행 가능**
   - 우선순위 1-5위 정류장은 즉시 설치 권장
   - 높은 수요와 우수한 커버리지 효율

## 📁 프로젝트 구조

```
advanced-traffic-analysis/
├── data/
│   ├── 세종도시교통공사_버스정류장_시설현황_20210924.csv
│   └── 지역별승하차_통합데이터.csv
├── 정밀_정류장_분석.py          # 핵심 분석 엔진
├── 발표자료_생성.py               # PPT 자료 생성
├── 프리미엄_대시보드.py           # Streamlit 대시보드
├── 분석결과_*.csv                # 분석 결과
├── 발표자료_*.png                # PPT 발표 자료
└── README.md                     # 본 문서
```

## 🔧 설정 변경

### 커버리지 반경 조정

```python
# 정밀_정류장_분석.py 파일의 Config 클래스
class Config:
    COVERAGE_RADIUS = 0.5  # 0.5km → 원하는 값으로 변경
```

### 신규 정류장 개수 변경

```python
class Config:
    MAX_NEW_STATIONS = 15  # 15개 → 원하는 값으로 변경
```

### 가중치 조정

```python
class Config:
    WEIGHT_DEMAND = 0.50         # 수요 가중치
    WEIGHT_TRANSFER = 0.25       # 환승 가중치
    WEIGHT_COVERAGE_GAP = 0.25   # 커버리지 갭 가중치
```

## 🔍 기술 스택

- **언어**: Python 3.8+
- **최적화**: PuLP (CBC Solver)
- **데이터 분석**: Pandas, NumPy, SciPy
- **시각화**: Matplotlib, Seaborn, Plotly, Folium
- **대시보드**: Streamlit, Streamlit-Folium
- **기계학습**: Scikit-learn (DBSCAN 클러스터링)

## 📝 라이선스

MIT License

## 👥 기여

이 프로젝트는 세종시 교통 데이터를 기반으로 개발되었습니다.

## 📧 문의

Advanced Traffic Analysis Team

---

**최종 업데이트**: 2025-12-11
**버전**: 3.0.0 (프리미엄 발표자료 및 대시보드)
